{% load static %}
<!DOCTYPE html>
<!DOCTYPE html>
<html>
  <head>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />
    <style>
      table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
      }

      td,
      th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }

      tr:nth-child(even) {
        background-color: #dddddd;
      }
    </style>
  </head>
  <body>
    <h2>My Orders</h2>
    <div style="width: 100%; height: 500px; overflow: scroll;">
      <table>
        <thead>
          <tr>
            <th scope="col">Order no</th>
            <th scope="col">Item Name</th>
            <th scope="col">Quantity</th>
            <th scope="col">Price</th>
            <th scope="col" style="width: 15%;">Order status</th>
          </tr>
        </thead>
        <tbody>
          {% for i in order %}
          <tr>
            <td>{{forloop.counter}}</td>
            <td>{{i.order_item.item_name }}</td>
            <td>{{i.item_quantity }}</td>
            <td>&#8377;{{i.totalPrice}}</td>

            <div>
              {% if i.process_status == 'accept' %}

              <td>
                <div class="progress">
                  <div
                    class="progress-bar progress-bar-success"
                    role="progressbar"
                    aria-valuenow="30"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    style="width: 30%;"
                  >
                    accepted
                  </div>
                </div>
              </td>

              {% endif %} {% if i.process_status == 'cooking' %}
              <td>
                <div class="progress">
                  <div
                    class="progress-bar progress-bar-success"
                    role="progressbar"
                    aria-valuenow="50"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    style="width: 45%;"
                  >
                    process
                  </div>
                </div>
              </td>

              {% endif %} {% if i.process_status == 'ready' %}

              <td>
                <div class="progress">
                  <div
                    class="progress-bar progress-bar-success"
                    role="progressbar"
                    aria-valuenow="70"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    style="width: 70%;"
                  >
                    ready
                  </div>
                </div>
              </td>

              {% endif %} {% if i.process_status == 'delever' %}

              <td>
                <div class="progress">
                  <div
                    class="progress-bar progress-bar-success"
                    role="progressbar"
                    aria-valuenow="100"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    style="width: 100%;"
                  >
                    completed
                  </div>
                </div>
              </td>

              {% endif %}
            </div>

            {% endfor %}
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="2">Sum</td>
            <td colspan="2">{{total}}</td>
            
            {% if flag == 1 %}
            <td><button><a href="{% url 'checkout1' %}" target ="_blank" >checkout</a></button></td>
            {% endif %}
          </tr>
        </tfoot>
      </table>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  </body>
</html>
